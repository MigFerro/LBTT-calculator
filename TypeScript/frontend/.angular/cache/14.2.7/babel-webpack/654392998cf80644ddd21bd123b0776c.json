{"ast":null,"code":"import _asyncToGenerator from \"/home/miguelferro/LBTTcalculator/TypeScript/frontend-angular/frontend-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nconst BASE_URL = 'http://localhost:8080';\nexport class AppComponent {\n  constructor() {\n    this.getTax = /*#__PURE__*/_asyncToGenerator(function* () {\n      let price = document.getElementById('price').value;\n      var radios = document.getElementsByName('is_first_buyer');\n      let radio_value;\n\n      for (let i = 0, length = radios.length; i < length; i++) {\n        let radio = document.getElementsByName(\"is_first_buyer\")[i];\n\n        if (radio.checked) {\n          radio_value = radio.value;\n          break;\n        }\n      }\n\n      const response = yield fetch(BASE_URL + '/api/calculate?price=' + price + '&fb=' + radio_value);\n      const data = yield response.json();\n\n      if (response.ok) {\n        let tax = -1;\n        tax = data?.tax_value;\n\n        if (tax != -1) {\n          alert(tax);\n        } else {\n          console.log(tax);\n          console.log('data: ', data);\n          console.log('tax not ok');\n        }\n      } else {\n        console.log(response);\n        console.log('response not ok');\n      }\n\n      return true;\n    });\n  }\n\n}\n\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)();\n};\n\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 21,\n  vars: 0,\n  consts: [[3, \"ngSubmit\"], [\"for\", \"price\"], [\"type\", \"number\", \"ng-model\", \"price\", \"name\", \"purchase_price\", \"value\", \"0.00\", \"min\", \"0.00\", \"step\", \"0.01\"], [\"type\", \"radio\", \"ng-model\", \"yes\", \"name\", \"is_first_buyer\", \"value\", \"1\"], [\"for\", \"yes\"], [\"type\", \"radio\", \"ng-model\", \"no\", \"name\", \"is_first_buyer\", \"value\", \"0,\", \"checked\", \"checked\"], [\"for\", \"no\"], [\"type\", \"submit\", \"value\", \"Calculate\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"LBTT Calculator\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function AppComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.getTax();\n      });\n      i0.ɵɵelementStart(3, \"label\", 1);\n      i0.ɵɵtext(4, \"Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"br\")(6, \"input\", 2)(7, \"br\");\n      i0.ɵɵelementStart(8, \"p\");\n      i0.ɵɵtext(9, \"Are you applying for the first-time buyer relief?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"input\", 3);\n      i0.ɵɵelementStart(11, \"label\", 4);\n      i0.ɵɵtext(12, \"Yes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"br\")(14, \"input\", 5);\n      i0.ɵɵelementStart(15, \"label\", 6);\n      i0.ɵɵtext(16, \"No\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"br\")(18, \"br\")(19, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"br\");\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"mappings":";;;AAEA,MAAMA,QAAQ,GAAG,uBAAjB;AAOA,OAAM,MAAOC,YAAP,CAAmB;EALzBC;IAOE,6CAAS,aAAW;MAElB,IAAIC,KAAK,GAAsBC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAkCC,KAAjE;MAEA,IAAIC,MAAM,GAAGH,QAAQ,CAACI,iBAAT,CAA2B,gBAA3B,CAAb;MACA,IAAIC,WAAJ;;MACA,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,MAAM,GAAGJ,MAAM,CAACI,MAAhC,EAAwCD,CAAC,GAAGC,MAA5C,EAAoDD,CAAC,EAArD,EAAyD;QACrD,IAAIE,KAAK,GAAqBR,QAAQ,CAACI,iBAAT,CAA2B,gBAA3B,EAA6CE,CAA7C,CAA9B;;QACA,IAAIE,KAAK,CAACC,OAAV,EAAmB;UACfJ,WAAW,GAAGG,KAAK,CAACN,KAApB;UACA;QACH;MACJ;;MAED,MAAMQ,QAAQ,SAASC,KAAK,CAACf,QAAQ,GAAG,uBAAX,GAAmCG,KAAnC,GAAyC,MAAzC,GAAgDM,WAAjD,CAA5B;MACA,MAAMO,IAAI,SAASF,QAAQ,CAACG,IAAT,EAAnB;;MAEA,IAAIH,QAAQ,CAACI,EAAb,EAAiB;QACb,IAAIC,GAAG,GAAG,CAAC,CAAX;QACAA,GAAG,GAAGH,IAAI,EAAEI,SAAZ;;QACA,IAAID,GAAG,IAAI,CAAC,CAAZ,EAAe;UACXE,KAAK,CAACF,GAAD,CAAL;QACH,CAFD,MAEO;UACHG,OAAO,CAACC,GAAR,CAAYJ,GAAZ;UACAG,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBP,IAAtB;UACAM,OAAO,CAACC,GAAR,CAAY,YAAZ;QACH;MACJ,CAVD,MAUO;QACHD,OAAO,CAACC,GAAR,CAAYT,QAAZ;QACAQ,OAAO,CAACC,GAAR,CAAY,iBAAZ;MACH;;MACD,OAAO,IAAP;IACH,CAhCC;EAkCD;;AApCwB;;;mBAAZtB;AAAY;;;QAAZA;EAAYuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCRzBC;MAAIA;MAAeA;MAEnBA;MAAMA;QAAA,OAAYC,YAAZ;MAAoB,CAApB;MACFD;MAAmBA;MAAMA;MAAQA,sBAAI,CAAJ,EAAI,OAAJ,EAAI,CAAJ,EAAI,CAAJ,EAAI,IAAJ;MAEjCA;MAAGA;MAAiDA;MACpDA;MACAA;MAAiBA;MAAGA;MAAQA,uBAAI,EAAJ,EAAI,OAAJ,EAAI,CAAJ;MAE5BA;MAAgBA;MAAEA;MAAQA,uBAAI,EAAJ,EAAI,IAAJ,EAAI,EAAJ,EAAI,OAAJ,EAAI,CAAJ;MAG9BA;MACAA","names":["BASE_URL","AppComponent","constructor","price","document","getElementById","value","radios","getElementsByName","radio_value","i","length","radio","checked","response","fetch","data","json","ok","tax","tax_value","alert","console","log","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/home/miguelferro/LBTTcalculator/TypeScript/frontend-angular/frontend-angular/src/app/app.component.ts","/home/miguelferro/LBTTcalculator/TypeScript/frontend-angular/frontend-angular/src/app/app.component.html"],"sourcesContent":["import { Component } from '@angular/core';\n\nconst BASE_URL = 'http://localhost:8080';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n  getTax = async () => {\n\n    let price = (<HTMLInputElement>document.getElementById('price')).value\n\n    var radios = document.getElementsByName('is_first_buyer');\n    let radio_value;\n    for (let i = 0, length = radios.length; i < length; i++) {\n        let radio = <HTMLInputElement>document.getElementsByName(\"is_first_buyer\")[i];\n        if (radio.checked) {\n            radio_value = radio.value;\n            break;\n        }  \n    }\n\n    const response = await fetch(BASE_URL + '/api/calculate?price='+price+'&fb='+radio_value)\n    const data = await response.json()\n    \n    if (response.ok) {\n        let tax = -1\n        tax = data?.tax_value\n        if (tax != -1) {\n            alert(tax)\n        } else {\n            console.log(tax)\n            console.log('data: ', data)\n            console.log('tax not ok')\n        }\n    } else {\n        console.log(response)\n        console.log('response not ok')\n    }\n    return true\n}\n\n}\n","\n<h1>LBTT Calculator</h1>\n\n<form (ngSubmit)=\"getTax()\">\n    <label for=\"price\">Amount</label><br>\n    <input type=\"number\" ng-model=\"price\" name=\"purchase_price\" value=\"0.00\" min=\"0.00\" step=\"0.01\"><br>\n    <p>Are you applying for the first-time buyer relief?</p>\n    <input type=\"radio\" ng-model=\"yes\" name=\"is_first_buyer\" value=1>\n    <label for=\"yes\">Yes</label><br>\n    <input type=\"radio\" ng-model=\"no\" name=\"is_first_buyer\" value=0, checked=\"checked\">\n    <label for=\"no\">No</label><br>\n    <br>\n    <input type=\"submit\" value=\"Calculate\">\n</form>\n<br>\n\n"]},"metadata":{},"sourceType":"module"}